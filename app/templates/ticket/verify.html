{% extends 'base.html' %}

{% block content %}
<div class="max-w-2xl mx-auto mt-16 text-center">
    <div class="glass p-10 rounded-xl relative overflow-hidden">
        {% if booking %}
        <!-- VALID TICKET -->
        <div class="absolute inset-0 bg-green-500/10 pointer-events-none"></div>

        <div
            class="inline-flex items-center justify-center w-24 h-24 bg-green-500/20 text-green-400 rounded-full mb-6 border border-green-500/50 shadow-[0_0_30px_rgba(34,197,94,0.3)]">
            <i class="fa-solid fa-shield-check text-4xl"></i>
        </div>

        <h2 class="text-3xl font-bold text-white mb-2 relative z-10">Ticket Verified âœ“</h2>
        <p class="text-lg text-gray-300 mb-6 relative z-10">This is a genuine Py-Booking ticket.</p>

        <div class="bg-black/40 border border-gray-700/50 rounded-lg p-6 mb-6 text-left relative z-10 max-w-md mx-auto">
            <div class="text-center mb-4">
                <p class="text-sm text-gray-400 mb-1">Booking Reference (PNR)</p>
                <p class="text-3xl font-mono font-bold tracking-widest text-indigo-400">{{ booking.pnr }}</p>
            </div>
            <div class="grid grid-cols-2 gap-3 text-sm">
                <div>
                    <span class="text-gray-500">Type</span>
                    <p class="text-white font-medium">{{ detail.type }}</p>
                </div>
                <div>
                    <span class="text-gray-500">Status</span>
                    <p class="font-medium"
                        style="color: {% if booking.status == 'Confirmed' %}#22c55e{% elif booking.status == 'Cancelled' %}#ef4444{% else %}#f59e0b{% endif %}">
                        {{ booking.status }}
                    </p>
                </div>
                {% if detail.get('origin') %}
                <div>
                    <span class="text-gray-500">From</span>
                    <p class="text-white font-medium">{{ detail.origin }}</p>
                </div>
                {% endif %}
                {% if detail.get('destination') %}
                <div>
                    <span class="text-gray-500">To</span>
                    <p class="text-white font-medium">{{ detail.destination }}</p>
                </div>
                {% endif %}
                <div>
                    <span class="text-gray-500">Passengers</span>
                    <p class="text-white font-medium">{{ detail.num_guests }}</p>
                </div>
                {% if detail.get('label') %}
                <div>
                    <span class="text-gray-500">{{ detail.type }}</span>
                    <p class="text-white font-medium">{{ detail.label }}</p>
                </div>
                {% endif %}
            </div>
        </div>

        {% else %}
        <!-- INVALID TICKET -->
        <div class="absolute inset-0 bg-red-500/10 pointer-events-none"></div>

        <div
            class="inline-flex items-center justify-center w-24 h-24 bg-red-500/20 text-red-400 rounded-full mb-6 border border-red-500/50 shadow-[0_0_30px_rgba(239,68,68,0.3)]">
            <i class="fa-solid fa-triangle-exclamation text-4xl"></i>
        </div>

        <h2 class="text-3xl font-bold text-white mb-2 relative z-10">Invalid Ticket</h2>
        <p class="text-lg text-gray-300 mb-6 relative z-10">No booking found with this PNR. The ticket may be forged or
            expired.</p>
        {% endif %}

        <a href="{{ url_for('main.index') }}"
            class="inline-flex items-center gap-2 bg-white/10 hover:bg-white/20 text-white font-medium py-3 px-8 rounded-lg transition-colors border border-gray-600 hover:border-transparent relative z-10">
            <i class="fa-solid fa-house"></i> Go Home
        </a>
    </div>
</div>
{% endblock %}